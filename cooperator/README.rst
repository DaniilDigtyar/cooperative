===========
Cooperators
===========

..
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:bcd0cdca7fa63893786aa9d7e18370edd1cb1c9c08dfaa7765559ad3c3402609
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge_devstat| image:: https://img.shields.io/badge/maturity-beta-brightgreen.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta

.. |badge_license| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :alt: AGPL-3

|badge_devstat| |badge_license|

Manage cooperators of a cooperative.

A basic flow can be the following:

- Create subscription request for a person (moral or physical)
- Validate subscription request, a capital release request (an invoice:
  account.move). This invoice is sent to the future cooperator.
- Payment of the cooperator is registered and the capital Release
  request is marked as paid.
- A new cooperator (a special partner) is created, and the right type
  and amount of share is linked to this new cooperator.
- The new cooperator appears in the Cooperator Registry.

Features:

- Manage several share types
- Manage share subscription request
- Cooperators can be individuals or companies
- Get an up to date Cooperator Registry
- See shares of a cooperator on the partner view
- Manage departure of cooperators
- Manage conversion between different share type
- Send automatic mail to the future cooperator during the procedure
- Can be used with multi-company configuration
- Generate Cooperator Certificate and several reports about cooperators

Configurations:

- on the company, set a default payment term for the capital release
  requests.
- on the company, set the cooperator account.

**Table of contents**

.. contents::
   :local:

Usage
=====

See the
`documentation <https://doc.it4socialeconomy.org/books/application-cooperators>`__
(not available in english ATM).

A localization module is needed with this module.

Known issues / Roadmap
======================

Gather and consolidate all cooperator settings in the application
parameters.

Consider a refactoring for:

1. removing a potential redundancy between the boolean field
   "representative" and the address type "representative".
2. prevent new contacts to have the representative address type, if they
   are not representative.

See `this
issue <https://github.com/coopiteasy/vertical-cooperative/issues/350>`__.

Known caveat: the cooperator localization modules will have to be split
in order to install the ``cooperator`` module without the
``cooperator_website`` module.

A “Cooperative Memberships” page should be added to the ``res.partner``
form, displaying all the cooperative memberships of the partner
(``cooperative_membership_ids``). The page should only be visible for
users that are both in the ``cooperator_group_user`` group and in the
``base.group_multi_company`` group (how to do this?). Should it display
the memberships of all companies or only the ones in which the user is
“logged in” (checked in the menu)? If all companies, there would be a
conflict with the ``cooperative_membership_rule_company`` ``ir.rule``.

Changelog
=========

16.0.1.0.2 (2024-03-12)
-----------------------

**Bugfixes**

- Remove duplicated member field in ``res.partner`` form view.
  (`#47 <https://github.com/OCA/cooperative/issues/47>`__)

16.0.1.0.0 (2023-11-29)
-----------------------

**Features**

- Add a "Share Type" column to the cooperator register report.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Add a new "Registers" menu entry and move the "Subscription Register"
  menu entry there.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Use default filters instead of domains in contact views.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Merge the confirmation email template for individuals and companies
  into one. (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Rename some files and XML IDs to improve consistency.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Update email templates to the default Odoo layout (what also makes
  them shorter).
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Add a description to email templates.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Move the "Cooperator Candidates" menu entry to the "Cooperators" menu.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Add a new "Cooperator Register" view (and menu entry) to display the
  cooperative memberships and allow to print the cooperator register
  (report that was previously on the partner model).
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Make the capital release request report inherit from the invoice
  report instead of copying and modifying it.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)

**Bugfixes**

- Ensure that only shares related to the current company appear on the
  cooperator certificate.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Ensure reversals of capital release requests use a name prefix to not
  clash with normal entries ("RSUBJ" instead of "SUBJ").
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix subscription requests created by transfer operations: ensure that
  no confirmation email is sent, that they don't appear in the list of
  subscription requests and cannot be erroneously validated.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix the display of the first name in email templates and add tests to
  cover this. (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix error when creating a new partner from the normal partner form.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix the layout of all reports by rewriting them from the default
  invoice layout.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Ensure creating a cooperator for a non-current company works (when a
  capital release request is paid).
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Ensure that ``share.line.share_number`` cannot be negative.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Don't send a cooperator certificate if there are no remaining shares
  after an operation.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix the company name in confirmation email template: display the name
  of the company that made the subscription request instead of the name
  of the cooperative.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Ensure that the company_type value of a subscription request is copied
  to the legal_form field of the created partner.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Add unique per-company constraints on the cooperator register number
  and the operation register number.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix copyright statements: add missing ones and use the same format
  everywhere. (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix consistency of XML files: XML declaration, spacing.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Display an error message instead of failing when trying to create a
  subscription request from a partner and no default share product is
  found. (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Rename internal string value of "Blocked" subscription request state
  from ``block`` to ``blocked``.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Ensure per-company sequences are used (for the cooperator register
  number and the operation register number).
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Prevent to create a subscription request where Email and Company Email
  have the same value, to avoid trying to create a recursive partner
  hierarchy when validating the subscription request (the partner being
  the parent of itself).
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix the footer layout to add company logos: wrap the original layout
  instead of overwriting it.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Fix required company fields on subscription request form.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)

**Deprecations and Removals**

- Remove the extra columns in the contacts list view; they can now be
  found in the cooperator register.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Remove deprecated ``subscription.request.create_comp_sub_req()``. Use
  the normal ``subscription.request.create()`` instead.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)
- Remove the useless "subscription" operation request type.
  (`#86 <https://github.com/OCA/cooperative/issues/86>`__)

14.0.2.0.0 (2023-07-25)
-----------------------

**Features**

- Each company now has their own mail templates for cooperator-related
  e-mails. If no template is set, the default (global) template is used.
  (`#73 <https://github.com/OCA/cooperative/issues/73>`__)
- ir.sequences used by this module are no longer global; each company
  has its own sequence for cooperator memberships.
  (`#74 <https://github.com/OCA/cooperative/issues/74>`__)
- Create subscription journal per company.
  (`#75 <https://github.com/OCA/cooperative/issues/75>`__)
- Improve multi-company consistency by setting ``company_id`` on records
  where needed and adding the ``check_company`` flag on ``Many2one``
  fields. (`#77 <https://github.com/OCA/cooperative/issues/77>`__)
- ir.rules for multi-company usage added. Users cannot access records of
  this module if they are not members of the relevant company.
  (`#78 <https://github.com/OCA/cooperative/issues/78>`__)
- Move cooperative membership properties from ``res.partner`` to new
  ``cooperative.membership`` model and add company-dependent computed
  fields on ``res.partner`` for backward compatibility.
  (`#82 <https://github.com/OCA/cooperative/issues/82>`__)

14.0.1.6.0 (2023-02-23)
-----------------------

**Features**

- Removed all selection widgets.
  (`#55 <https://github.com/OCA/cooperative/issues/55>`__)

12.0.5.3.0 (2022-09-05)
-----------------------

**Improved Documentation**

- Adding USAGE.rst to inform that localization modules are necessary.
  (`#346 <https://github.com/coopiteasy/vertical-cooperative/issues/346>`__)

12.0.5.0.0 (2022-06-23)
-----------------------

**Deprecations and Removals**

- When no cooperator account is defined on the company, this module
  previously defaulted to the account with code '416000'. This behaviour
  has been removed because the code is Belgian-only. The functionality
  has been moved to ``l10n_be_cooperator``.
  (`#314 <https://github.com/coopiteasy/vertical-cooperative/issues/314>`__)

12.0.3.3.2 (2022-06-20)
-----------------------

**Bugfixes**

- Fix name computation crash
  (`#330 <https://github.com/coopiteasy/vertical-cooperative/issues/330>`__)

Credits
=======

Authors
-------

* Coop IT Easy SC

Contributors
------------

- `Coop IT Easy SC <https://coopiteasy.be>`__:

  - Houssine Bakkali
  - Robin Keunen
  - Rémy Taymans
  - Victor Champonnois
  - Vincent Van Rossem
  - Manuel Claeys Bouuaert
  - Carmen Bianca Bakker
  - hugues de keyzer

- 'Som IT Cooperatiu SCCL'

  - Nicolás Ramos

Maintainers
-----------

This module is maintained by Som IT Cooperatiu SCCL.

Contact the maintainer through their official support channels in case you find
any issues with this module.
